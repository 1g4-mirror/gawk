<div dir="ltr"><div class="gmail_default" style="font-family:monospace,monospace;font-size:large">Hi Arnold,<br><br>I just pushed an update to the Italian &quot;<a href="http://gawktexi.in">gawktexi.in</a>&quot;.<br>Please, &quot;propagate&quot; it.<br><br>I have packed in a ZIP file all the scripts used<br>to test all the 66 examples/files that can be<br>extracted from the Gawk book.<br><br>To use it you should unzip the file in a test<br>&quot;bin&quot; directory, and change a few variables inside<br>the &quot;gawkeg&quot; script.<br><br>At the beginning of the &quot;gawkeg&quot; script there is<br>an indication of where are the variables to be<br>changed, basically the name of the test &quot;bin&quot;<br>directory where the script are ($b) the name of<br>where to put the &quot;eg&quot; directory ($s) and the names<br>of the directories where the &quot;<a href="http://gawktexi.in">gawktexi.in</a>&quot; file<br>can be found.<br><br>Hopefully that should be enough.<br><br>Just run:<br>./gawkeg<br>...which defaults to &quot;en&quot;<br><br>or<br><br>./gawkeg it<br><br>To see all what can be done, at the &quot;gawkeg&quot;<br>prompt just type:<br><br>h&lt;ENTER&gt;<br><br>...for the &quot;d&quot; option (differences between English<br>and Italian script) to work, the &quot;other&quot; directory<br>must exist.<br><br>I tried to run the thing on another PC (under<br>WSL), from the &quot;distribution&quot; and changing the<br>test directories, and it seems to work.<br><br>Better not to use it with the &quot;root&quot; user, some<br>tests would give different results (e.g. the<br>&quot;readable&quot; one).<br><br>The script uses a couple of programs, &quot;scegli&quot; and<br>&quot;extract&quot;, of which only the executables are in the<br>ZIP file. If it is of interest, you can have the C<br>source files, but they are a mess: the two<br>programs have been written for a different set of<br>tasks, and should be rewritten, but since they<br>work...<br><br>The English tests should all run fine. The Italian<br>ones do run here, but only with the just updated<br>Italian &quot;<a href="http://gawktexi.in">gawktexi.in</a>&quot;.<br><br>Please let me know if you are able to use the<br>script, and if you have remarks, questions, etc.,<br>they are welcome.<br><br>All the best, Antonio<br><br>PS I did not bother to put licenses, but<br>everything can be used/modified freely, consider<br>it with the same license as gawk.</div><div class="gmail_default" style="font-family:monospace,monospace;font-size:large">-- <br><div dir="ltr" class="gmail_signature"><div dir="ltr"><div><div dir="ltr"><div><div dir="ltr"><div><div dir="ltr"><div><font size="4" face="monospace, monospace">   /||\    | Antonio Colombo</font></div><font size="4" face="monospace, monospace">  / || \   |  <a href="mailto:azc100@gmail.com" target="_blank">azc100@gmail.com</a>  </font><div><font size="4" face="monospace, monospace"> /  ()  \  | <a href="mailto:antonio@geekcorp.com" target="_blank">antonio@geekcorp.com</a>  <br>(___||___) |   <a href="mailto:azc10@yahoo.com" target="_blank">azc10@yahoo.com</a></font></div></div></div></div></div></div></div></div></div><br>==================<br><br>Looking into the example programs, I wonder:<br><br>Should gettime.awk be renamed getlocaltime.awk<br>(or viceversa)? When checking alarm.awk, it<br>speaks of getlocaltime, but then you have<br>to use &quot;gettime.awk&quot; instead.<br><br>A few other gawk scripts have names slightly<br>different from the name in the &quot;eg/whatever&quot;<br>directory.<br><br>bits2str.awk is actually also contained in<br>testbits.awk, contrary to the philosophy of<br>the &quot;modularity&quot;. testbits.awk should not<br>contain it (I think). And the bits2str.awk<br>instructions are contained twice in <a href="http://gawktexi.in">gawktexi.in</a>,<br>once for themselves, and once in testbits.awk.<br>I wonder if something should be changed here.<br><br>To get the test for cut.awk working, I had to<br>put &quot;-f getopt.awk&quot; BEFORE &quot;-f cut.awk&quot;, not really<br>sure why. I wonder if it should be noted<br>somewhere. It is the case also for other &quot;users&quot;<br>of &quot;getopt&quot;.<br><br>The transfile.awk example is not extracted.<br>I wonder if it should or not...<br>To make the example work, I had to change in transfile.awk<br>FILENAME != _oldfilename @{<br>to<br>FILENAME != _oldfilename &amp;&amp; _filename_ != FILENAME @{<br>..or beginfile() would be invoked more than necessary<br><br>On a detail, for consistency with _filename_,<br>_oldfilename should be called<br>_oldfilename_<br><br>histsort.awk should be changed to use the input<br>records only AFTER the initial number,<br>otherwise all entries are different by definition.<br>I found no way to get history without the number<br>of the command, so I just cut it out for the test.<br><br>noassign.awk does not work (at least for me).<br>ARGC and ARGV give you only the input files,<br>not the real ARGC and ARGV passed by the Operating<br>System to gawk.<br>Variables are not seen at all, so they are always<br>used inside the program (unless I missed something).<br>If one acts on PROCINFO[&quot;argc&quot;] and PROCINFO[&quot;argv&quot;],<br>one sees &quot;everything&quot;, as evidenced modifying noassign.awk<br>BEGIN {<br>    if (No_command_assign) {<br>        for ( j in PROCINFO[&quot;argv&quot;] ) { print &quot;#&quot;,j,PROCINFO[&quot;argv&quot;][j],&quot;#&quot;; }<br>        disable_assigns(ARGC, ARGV)<br>    }<br>}<br>I suspect the real ARGC and ARGV would not be changed.<br>Also, noassign.awk does not do anything about the &quot;-v&quot;<br>before the assignment. I wonder what to do.<br><br>ord.awk is ok, but it does not manage ASCII above 127<br>(European accented letter, e.g.). Not sure if it should<br>be modified.<br><br>In pi.awk it should be noted inside the program that<br>it needs intdiv0.awk (as it is noted in the text).<br><br>process_array.awk is in processarray.awk:<br>maybe the name should be the same.<br><br>I am not sure that the output of shell_quote is OK<br>(too many &quot;&#39;&quot;s and &quot;&quot;&quot;s).<br><br>========================<br><br>In the last update to gawktexi,in, where you explain &quot;ls&quot;,<br>an &quot;old&quot; file should probably be present, to show the<br>difference in field 8, when the last modification<br>date goes back to 6 months or more:<br>-rwxrwxr-x 1 azc10 azc10   1427 apr 19 16:56 gawkdiff<br>-rwxrwxr-x 1 azc10 azc10    381 apr 13  2020 fs_set.awk<br>...&quot;apr&quot; is in Italian, &quot;Jun&quot; would be &quot;giu&quot;<br><br>========================</div></div>

--00000000000066ee9105b19e7629--